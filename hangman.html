<!DOCTYPE html>
<html>
    <head>
        <title>Hangman Game</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <div id="app"></div>
        <script>

            var app = document.getElementById("app")
            var currentletters = "_____"
            var hasWon = ""
            
            openView()
            function openView(){
                app.innerHTML=`
                <div id="h">What is the word</div>
                <input type="text" id="inp"></input>
                <button onclick="evaluateHangman('hello',currentletters,inp.value,0)">see if hangman is true</button>
                <div id="current"></div>
                <div id="hasWon"></div>`;
            }

            function evaluateHangman(secretText, currentText, guessedLetter, previousindex){
                current = document.getElementById("current")
                hasWon = document.getElementById("hasWon")
                let theRest = ""
                for(let i = previousindex;i<secretText.length;i++){
                    theRest+="_"
                }
                current.innerHTML+= theRest
                const index = secretText.indexOf(guessedLetter);
                if(index == -1) return currentText;
                const currentTextBeforeGuessedLetter = currentText.substring(0, index);     
                const currentTextAfterGuessedLetter = currentText.substring(index + 1);
                const secretTextAfterGuessedLetter = secretText.substring(index + 1);
                let result = currentTextBeforeGuessedLetter + guessedLetter 
                    + evaluateHangman(secretTextAfterGuessedLetter, currentTextAfterGuessedLetter, guessedLetter,index)
                current.innerHTML = result
                console.log(result)
                if(!result.includes("_")){
                    hasWon.innerHTML="WON";
                }
                else{
                    hasWon.innerHTML="not there yet";
                };
                return result;
            }
        </script>
    </body>
</html>